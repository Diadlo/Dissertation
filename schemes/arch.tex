\begin{tikzpicture}[
        ->,>=stealth',node
        distance=2cm, semithick
    ]

    \tikzstyle{block} = [rectangle,draw,minimum height=0.8cm]

    \node[block] (preload) {Подгружаемый модуль};
    \node[block] (lib)    [above of=preload] {libQtWidgets};
    \node[block] (x11)    [above of=lib]     {X11};
    \node[block] (server) [left=2cm of preload] {Сервер управления};
    \node[block] (app)    [below of=preload] {Целевое приложение};

    \node[block] (ctrl) [above of=server] {Приложение управления};
    \node[block] (user) [above of=ctrl] {Пользователь};

    \path[]
        (app)     edge[bend left]     node[left]  {1} (preload)
        (preload) edge[bend left=5]   node[below] {2} (server)
        (preload) edge[bend left]     node[left]  {3} (lib)
        (lib)     edge[bend left]     node[left]  {4} (x11)
        (server)  edge[bend left]     node[left]  {5} (ctrl)
        (ctrl)    edge[bend left]     node[left]  {6} (user)
        (user)    edge[bend left]     node[right] {7} (ctrl)
        (ctrl)    edge[bend left]     node[right] {8} (server)
        (server)  edge[bend left=5]   node[above] {9} (preload)

        (server.north east)  edge    node[above]{10} (x11)

        (x11)     edge[bend left]     node[right] {11} (lib)
        (lib)     edge[bend left]     node[right] {12} (preload)
        (preload) edge[bend left]     node[right] {13} (app)
        (preload) edge[bend right=75] node[right] {14} (lib)
        (lib)     edge[bend left=80]  node[right]  {15} (app)
    ;

\end{tikzpicture}
